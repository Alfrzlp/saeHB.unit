---
author: Azka Ubaidillah, Ridson Al Farizal P
output: github_document
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```


# saeHB.unit

<!-- badges: start -->

[![CRAN status](https://www.r-pkg.org/badges/version/saeHB.unit)](https://CRAN.R-project.org/package=saeHB.unit)

<!-- badges: end -->

We designed this package to provide several functions for unit level of small area estimation (Battese, Harter and Fuller model) using hierarchical Bayesian (HB) method. This package also provides a dataset produced by a data generation. The `rjags` package is employed to obtain parameter estimates

## Installation

You can install the development version of saeHB.unit from [GitHub](https://github.com/) with:

```{r}
# install.packages("devtools")
devtools::install_github("Alfrzlp/saeHB.unit")
```

Or you can install cran version with
```{r}
# install.packages(saeHB.unit)
```




## Example

This is a basic example which shows you how to solve a common problem:

```{r warning=FALSE, message=FALSE}
library(dplyr)
library(saeHB.unit)

glimpse(cornsoybean)
glimpse(cornsoybeanmeans)
```

```{r}
Xarea <- cornsoybeanmeans %>%
   dplyr::select(
      County = CountyIndex,
      CornPix = MeanCornPixPerSeg,
      SoyBeansPix = MeanSoyBeansPixPerSeg
   )
head(Xarea)
```

```{r echo=TRUE, message=FALSE}
corn_model <- hb_BHF(
   CornHec ~ SoyBeansPix + CornPix,
   data_unit = cornsoybean,
   data_area = Xarea,
   domain = "County",
   iter.update = 20
)
```

You'll still need to render `README.Rmd` regularly, to keep `README.md` up-to-date. `devtools::build_readme()` is handy for this. You could also use GitHub Actions to re-render `README.Rmd` every time you push. An example workflow can be found here: <https://github.com/r-lib/actions/tree/v1/examples>.

In that case, don't forget to commit and push the resulting figure files, so they display on GitHub and CRAN.


# References
-   Battese, G. E., Harter, R. M., & Fuller, W. A. (1988). An error-components model for prediction of county crop areas using survey and satellite data. Journal of the American Statistical Association, 83(401), 28-36.

-   Rao, J. N., & Molina, I. (2015). Small area estimation. John Wiley & Sons.
